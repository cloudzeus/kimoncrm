# ===========================================
# KIMON CRM - Environment Variables Template
# ===========================================
# Copy this file to .env and fill in your values
# For Coolify deployment, add these to Environment Variables in dashboard

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# Main database connection URL (with connection pooling if supported)
DATABASE_URL="mysql://username:password@hostname:port/database_name"
# Direct database connection URL (for Prisma migrations)
DIRECT_URL="mysql://username:password@hostname:port/database_name"

# Note: URL-encode special characters in passwords:
# @ = %40, ! = %21, # = %23, $ = %24, % = %25, ^ = %5E, & = %26

# ===========================================
# AUTHENTICATION - NEXTAUTH
# ===========================================
# Generate with: openssl rand -hex 32
NEXTAUTH_SECRET="your-secret-key-min-64-characters"
# Your application URL
NEXTAUTH_URL="https://your-domain.com"
# Required for Coolify/Docker deployments
AUTH_TRUST_HOST="true"

# ===========================================
# AUTHENTICATION - GOOGLE OAUTH (Optional)
# ===========================================
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID="your-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="GOCSPX-your-client-secret"

# Google Service Account (Optional - for server-to-server)
GOOGLE_SA_CLIENT_EMAIL="service-account@project.iam.gserviceaccount.com"
GOOGLE_SA_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
GOOGLE_SCOPES="openid email profile https://www.googleapis.com/auth/gmail.modify https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/drive.file"
GOOGLE_WORKSPACE_ADMIN="admin@yourdomain.com"

# ===========================================
# AUTHENTICATION - MICROSOFT ENTRA ID (Azure AD)
# ===========================================
# Get from: https://portal.azure.com â†’ App registrations
AUTH_MICROSOFT_ENTRA_ID_ID="your-application-client-id"
AUTH_MICROSOFT_ENTRA_ID_SECRET="your-client-secret"
TENANT_ID="your-tenant-id"

# ===========================================
# MICROSOFT GRAPH API (Optional)
# ===========================================
# For email, calendar, and file access
GRAPH_CLIENT_ID="your-graph-client-id"
GRAPH_CLIENT_SECRET="your-graph-client-secret"
GRAPH_TENANT_ID="your-tenant-id"
GRAPH_SCOPES="offline_access openid profile Mail.ReadWrite Mail.Send Calendars.ReadWrite Files.ReadWrite.All"

# ===========================================
# BUNNYCDN - FILE STORAGE (Optional)
# ===========================================
# Get from: https://panel.bunny.net
BUNNY_STORAGE_ZONE="your-storage-zone-name"
BUNNY_ACCESS_KEY="your-access-key"
BUNNY_HOST_NAME="storage.bunnycdn.com"
BUNNY_STORAGE_REGION="de"
BUNNY_CDN_PULL_ZONE="your-zone.b-cdn.net"

# ===========================================
# SOFTONE ERP INTEGRATION (Optional)
# ===========================================
SOFTONE_BASE_URL="https://your-instance.oncloud.gr/s1services/JS"
SOFTONE_USERNAME="Service"
SOFTONE_PASSWORD="your-softone-password"
SOFTONE_COMPANY="1000"
SOFTONE_SODTYPE="13"

# ===========================================
# AI SERVICES
# ===========================================
# OpenAI (Optional)
OPENAI_API_KEY="sk-proj-your-openai-key"

# DeepSeek (Alternative to OpenAI)
DEEPSEEK_API_KEY="sk-your-deepseek-key"
DEEPSEEK_BASE_URL="https://api.deepseek.com/v1"
DEEPSEEK_MODEL="deepseek-chat"

# ===========================================
# APPLICATION SETTINGS
# ===========================================
# Application base URL
APP_URL="https://your-domain.com"
# Port for the application (default: 3000)
PORT="3000"

# ===========================================
# SECURITY & SECRETS
# ===========================================
# Salt for password hashing (generate with: openssl rand -hex 16)
CREDENTIALS_SALT="your-random-salt-min-32-chars"
# Secret for cron job authentication (generate with: openssl rand -base64 32)
CRON_SECRET="your-cron-secret"
# Secret for webhook HMAC verification (generate with: openssl rand -base64 32)
WEBHOOK_HMAC_SECRET="your-webhook-secret"

# ===========================================
# DEVELOPMENT ONLY
# ===========================================
# These are automatically set by the build system
# DO NOT set these manually in Coolify!
# NODE_ENV=development (local) or production (deployment)

# ===========================================
# NOTES
# ===========================================
# 1. NEVER commit the actual .env file to git
# 2. For Coolify: Add variables in dashboard, not in .env file
# 3. Mark all secrets as "Secret" in Coolify to mask in logs
# 4. For build issues, ensure NODE_ENV is NOT set as build-time variable
# 5. Generate strong random secrets for all security-related variables
#
# Quick commands to generate secrets:
# - 64-char hex: openssl rand -hex 32
# - 48-char base64: openssl rand -base64 32
# - Node.js: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# For more details, see:
# - COOLIFY_ENV_SETUP.md - Full environment variable documentation
# - QUICK_START.md - Quick deployment guide
# - DEPLOYMENT_GUIDE.md - Troubleshooting and best practices

